<!doctype html>
<html>
<head>
<meta charset="utf-8"/>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
<title>Slide - 幻灯片特效</title>
    <link rel="stylesheet" href="http://a.tbcdn.cn/s/kissy/1.3.0/css/dpl/base-min.css"/>
    <link rel="stylesheet" href="../../../../tools/skin/default.css"/>
    <script src="http://a.tbcdn.cn/s/kissy/1.3.0/kissy.js" charset="utf-8"></script>
    <link rel="stylesheet" href="../../../../tools/skin/show-code.js"/>
    <script>
    KISSY.config({
        packages:[
            {
                name:"gallery",
                tag:"20111220",
                path:"../../../../",  // cdn上适当修改对应路径
                charset:"utf-8"
            }
        ]
    });
</script>
<style>
    #title {
        font-size: 35px;
        margin: 10px auto;
        text-align: center;
        font-weight: bold;
    }


    .ks-switchable-nav {
        position: absolute;
        right:0;
        top:0;
    }

    .ks-switchable-nav li {
        float: right;
        margin: 0 10px;
    }
</style>
</head>
<body>
<h1 id="title">circular picture gallery</h1>
<div id="list" style="overflow: hidden;margin: 100px auto;width:1470px;height: 200px ">
    <span id="scroller-prev" class="prev">&lsaquo; 上一个</span>
    <span id="scroller-next" class="next">下一个 &rsaquo;</span>
    <ul id="content" class="pic-list" style="overflow: hidden;">
        <li class="picture" style="display: block; float: left;">
            <div style="width:488px;height: 168px;border: 1px solid red;">
                0
            </div>
        </li>
        <li class="picture" style="display: block; float: left;">
            <div style="width:488px;height: 168px;border: 1px solid red;">
                1
            </div>
        </li>
        <li class="picture" style="display: block; float: left;">
            <div style="width:488px;height: 168px;border: 1px solid red;">
                2
            </div>
        </li>




    </ul>

    <ul class="ks-switchable-nav">
    </ul>
</div>
<script>
    KISSY.use("gallery/switchable/1.0/", function (S, Switchable) {
        var DOM = S.DOM;
        var s = new Switchable.Carousel('#list', {
            contentCls:'pic-list',
            hasTriggers:true,
            effect:'scrollx',
            interval:2,
            steps:1,
            prevBtnCls:'prev',
            autoplay:false,
            circular:true,
            nextBtnCls:'next',
            easing:"easeOutStrong"
        });

        // for kissy 1.2
        /*
         var realStep = 1,
         offsetXX,
         effect = s.config.effect,
         panels = s.panels,
         prop,
         lastIndex,
         container = S.container,
         viewSize = [DOM.width(container), DOM.height(container)],
         totalXX;

         if (effect == 'scrollx') {
         prop = "left";
         realStep = Math.floor(viewSize[0] / (offsetXX = panels[0].offsetWidth));
         } else if (effect == 'scrolly') {
         prop = "top";
         realStep = Math.floor(viewSize[1] / (offsetXX = panels[0].offsetHeight));
         }

         totalXX = offsetXX * panels.length;
         lastIndex = panels.length - realStep + 1;

         s.on("beforeSwitch", function (e) {
         var toIndex = e.toIndex;
         if (toIndex >= lastIndex) {
         var gap = Math.abs(toIndex - lastIndex);
         DOM.css(panels[gap], "position", "relative");
         DOM.css(panels[gap], prop, totalXX);
         } else if (!toIndex) {
         DOM.css(panels[realStep - 1], {
         position:"relative"
         });
         DOM.css(panels[realStep - 1], prop, totalXX);
         }
         });

         s.on("switch", function (e) {
         if (e.currentIndex == 0) {
         for (var i = 1; i < realStep; i++) {
         DOM.css(panels[i], {
         position:""
         });
         DOM.css(panels[i], prop, "");
         }
         }
         });
         */
    });
</script>
</body>
</html>