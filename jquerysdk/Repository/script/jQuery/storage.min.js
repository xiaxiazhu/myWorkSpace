jQuery.plugin("jQuery.storage",["jQuery.cookie","jQuery.json"],function(b,c){var a={localStorage:false,sessionStorage:false};b.each(["localStorage","sessionStorage"],function(e,f){try{a[f]=window[f]&&window[f].setItem}catch(d){}b[f]=function(h,i){h=b[f+"Settings"].namespace+h;if(i===c){var g=a[f]?window[f].getItem(h):b.cookie(f+":"+h);return(g===c||g===null)?null:b.parseJSON(g)}else{if(i===null){a[f]?window[f].removeItem(h):b.cookie(f+":"+h,null,{path:"/",domain:document.domain,expires:-365});return this}else{i=b.toJSON(i);a[f]?window[f].setItem(h,i):b.cookie(f+":"+h,i,{path:"/",domain:document.domain,expires:f==="localStorage"?365:c});return this}}};b[f+"Clear"]=function(g){var i=new RegExp("^"+(a[f]?"":f+":")+(g?"":b[f+"Settings"].namespace),"");if(a[f]){if(g){window[f].clear()}else{for(var h in window[f]){if(i.test(h)){window[f].removeItem(h)}}}}else{if(document.cookie&&document.cookie!==""){b.each(document.cookie.split(";"),function(k,j){if(i.test(j=b.trim(j))){b.cookie(j.substr(0,j.indexOf("=")),null,{path:"/",domain:document.domain,expires:-365})}})}}return this};b[f+"Settings"]=b.extend({namespace:""},b.config.storage)})});