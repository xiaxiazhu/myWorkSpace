jQuery.plugin("jQuery.base64.fix",["jQuery.json","jQuery.utf8"],function(b,c){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.extend({toBASE64:function(g,f){g=b.toUTF8(f?g+"":b.toJSON(g));var d="",o,m,k,n,l,j,h,e=0;while(e<g.length){o=g.charCodeAt(e++);m=g.charCodeAt(e++);k=g.charCodeAt(e++);n=o>>2;l=((o&3)<<4)|(m>>4);j=((m&15)<<2)|(k>>6);h=k&63;if(isNaN(m)){j=h=64}else{if(isNaN(k)){h=64}}d=d+a.charAt(n)+a.charAt(l)+a.charAt(j)+a.charAt(h)}return d},fromBASE64:function(g,f){g=g.replace(/[^A-Za-z0-9\+\/\=]/g,"");var d="",o,m,k,n,l,j,h,e=0;while(e<g.length){n=a.indexOf(g.charAt(e++));l=a.indexOf(g.charAt(e++));j=a.indexOf(g.charAt(e++));h=a.indexOf(g.charAt(e++));o=(n<<2)|(l>>4);m=((l&15)<<4)|(j>>2);k=((j&3)<<6)|h;d=d+String.fromCharCode(o);if(j!==64){d=d+String.fromCharCode(m)}if(h!==64){d=d+String.fromCharCode(k)}}d=b.fromUTF8(d);return f?d:b.fromJSON(d)}})});